{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["/*Використовуючи делегуваня, відстежуй на формі подію input і щоразу записуй у\n локальне сховище об'єкт з полями email і message, у яких зберігай поточні значення полів форми. \n Нехай ключем для сховища буде рядок \"feedback-form-state\".\nПід час завантаження сторінки перевіряй стан сховища, і якщо там є збережені дані,\nто заповнюй ними поля форми.В іншому випадку поля повинні бути порожніми.\nПід час сабміту форми очищай сховище і поля форми, а також виводь у консоль \nоб'єкт з полями email, message та їхніми поточними значеннями.*/\n\nconst feedbackForm = document.querySelector('.feedback-form');\nconst STORAGE_DATA_KEY = 'feedback-form-state'();\n\nfeedbackForm.addEventListener('input', event => {\n  const formData = new FormData(feedbackForm);\n  const formObject = {};\n  formData.forEach((value, key) => {\n    formObject[key] = value.trim();\n  });\n  localStorage.setItem(STORAGE_DATA_KEY, JSON.stringify(formObject));\n});\n\nfeedbackForm.addEventListener('submit', event => {\n  const emailValue = feedbackForm.elements.email.value;\n  const messageValue = feedbackForm.elements.message.value;\n  event.preventDefault();\n  if (!emailValue || !messageValue) {\n    alert('All fields must be fill in');\n  } else {\n    const storageInfo = JSON.parse(localStorage.getItem(STORAGE_DATA_KEY));\n    localStorage.removeItem(STORAGE_DATA_KEY);\n    feedbackForm.reset();\n    console.log(storageInfo);\n  }\n});\n\ntry {\n  const initialFormData = JSON.parse(localStorage.getItem(STORAGE_DATA_KEY));\n  if (typeof initialFormData === 'object' && initialFormData !== null) {\n    Array.from(feedbackForm.elements).forEach(element => {\n      const storageValue = initialFormData[element.name];\n      element.value = storageValue;\n    });\n  }\n} catch (e) {\n  console.error('Data from storage is not an object or threr is no value');\n}\n"],"names":["feedbackForm","STORAGE_DATA_KEY","event","formData","formObject","value","key","emailValue","messageValue","storageInfo","initialFormData","element","storageValue"],"mappings":"oCAQA,MAAMA,EAAe,SAAS,cAAc,gBAAgB,EACtDC,EAAmB,sBAAqB,EAE9CD,EAAa,iBAAiB,QAASE,GAAS,CAC9C,MAAMC,EAAW,IAAI,SAASH,CAAY,EACpCI,EAAa,CAAA,EACnBD,EAAS,QAAQ,CAACE,EAAOC,IAAQ,CAC/BF,EAAWE,GAAOD,EAAM,KAAI,CAChC,CAAG,EACD,aAAa,QAAQJ,EAAkB,KAAK,UAAUG,CAAU,CAAC,CACnE,CAAC,EAEDJ,EAAa,iBAAiB,SAAUE,GAAS,CAC/C,MAAMK,EAAaP,EAAa,SAAS,MAAM,MACzCQ,EAAeR,EAAa,SAAS,QAAQ,MAEnD,GADAE,EAAM,eAAc,EAChB,CAACK,GAAc,CAACC,EAClB,MAAM,4BAA4B,MAC7B,CACL,MAAMC,EAAc,KAAK,MAAM,aAAa,QAAQR,CAAgB,CAAC,EACrE,aAAa,WAAWA,CAAgB,EACxCD,EAAa,MAAK,EAClB,QAAQ,IAAIS,CAAW,CACxB,CACH,CAAC,EAED,GAAI,CACF,MAAMC,EAAkB,KAAK,MAAM,aAAa,QAAQT,CAAgB,CAAC,EACrE,OAAOS,GAAoB,UAAYA,IAAoB,MAC7D,MAAM,KAAKV,EAAa,QAAQ,EAAE,QAAQW,GAAW,CACnD,MAAMC,EAAeF,EAAgBC,EAAQ,MAC7CA,EAAQ,MAAQC,CACtB,CAAK,CAEL,MAAE,CACA,QAAQ,MAAM,yDAAyD,CACzE"}